type Post @entity(immutable: false) {
  id: ID!
  creator: Bytes!
  price: BigInt!
  previewUri: String!
  encryptedUri: String!
  maxSupply: BigInt!
  minted: BigInt!
  hidden: Boolean!
  createdAt: BigInt!
  purchases: [Purchase!]! @derivedFrom(field: "post")
}

type Purchase @entity(immutable: true) {
  id: ID!
  post: Post!
  buyer: Bytes!
  amount: BigInt!
  totalPaid: BigInt!
  pricePerUnit: BigInt!
  txHash: Bytes!
  timestamp: BigInt!
}
